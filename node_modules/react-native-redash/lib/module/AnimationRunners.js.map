{"version":3,"sources":["AnimationRunners.ts"],"names":["Animated","Clock","Value","block","timing","spring","cond","decay","stopClock","set","startClock","clockRunning","add","runDecay","clock","value","velocity","rerunDecaying","state","finished","position","time","config","deceleration","runSpring","dest","toValue","damping","mass","stiffness","overshootClamping","restSpeedThreshold","restDisplacementThreshold","runTiming","frameTime"],"mappings":"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","sourcesContent":["import Animated from \"react-native-reanimated\";\n\nconst {\n  Clock,\n  Value,\n  block,\n  timing,\n  spring,\n  cond,\n  decay,\n  stopClock,\n  set,\n  startClock,\n  clockRunning,\n  add,\n} = Animated;\n\nexport {\n  timing, spring, clockRunning, add,\n};\n\nexport type SpringConfig= Parameters<typeof spring>[1];\nexport type TimingConfig = Parameters<typeof timing>[1];\nexport type Clock = Parameters<typeof clockRunning>[0];\nexport type Node = ReturnType<typeof add>;\nexport type Adaptable<T> = Node | T;\n\nexport function runDecay(\n  clock: Clock,\n  value: Adaptable<number>,\n  velocity: Adaptable<number>,\n  rerunDecaying: any,\n) {\n  const state = {\n    finished: new Value(0),\n    velocity: new Value(0),\n    position: new Value(0),\n    time: new Value(0),\n  };\n\n  const config = {\n    deceleration: 0.99,\n  };\n\n  return [\n    cond(clockRunning(clock), 0, [\n      cond(rerunDecaying, 0, [\n        set(rerunDecaying, 1),\n        set(state.finished, 0),\n        set(state.velocity, velocity),\n        set(state.position, value),\n        set(state.time, 0),\n        startClock(clock),\n      ]),\n    ]),\n    decay(clock, state, config),\n    cond(state.finished, stopClock(clock)),\n    state.position,\n  ];\n}\n\nexport function runSpring(\n  clock: Clock,\n  value: Adaptable<number>,\n  dest: Adaptable<number>,\n  config: SpringConfig = {\n    toValue: new Value(0),\n    damping: 7,\n    mass: 1,\n    stiffness: 121.6,\n    overshootClamping: false,\n    restSpeedThreshold: 0.001,\n    restDisplacementThreshold: 0.001,\n  },\n) {\n  const state = {\n    finished: new Value(0),\n    velocity: new Value(0),\n    position: new Value(0),\n    time: new Value(0),\n  };\n\n  return block([\n    cond(clockRunning(clock), 0, [\n      set(state.finished, 0),\n      set(state.time, 0),\n      set(state.position, value),\n      set(state.velocity, 0),\n      set(config.toValue as any, dest),\n      startClock(clock),\n    ]),\n    spring(clock, state, config),\n    cond(state.finished, stopClock(clock)),\n    state.position,\n  ]);\n}\n\nexport function runTiming(\n  clock: Clock,\n  value: Adaptable<any>,\n  config: TimingConfig,\n) {\n  const state = {\n    finished: new Value(0),\n    position: new Value(0),\n    time: new Value(0),\n    frameTime: new Value(0),\n  };\n\n  return block([\n    cond(clockRunning(clock), 0, [\n      set(state.finished, 0),\n      set(state.time, 0),\n      set(state.position, value),\n      set(state.frameTime, 0),\n      startClock(clock),\n    ]),\n    timing(clock, state, config),\n    cond(state.finished, stopClock(clock)),\n    state.position,\n  ]);\n}\n"]}